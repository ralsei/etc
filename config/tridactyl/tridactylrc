" nice
colors shydactyl

" self-explanatory
set searchengine duckduckgo
set historyresults 10

" the irony is not lost on me
js tri.browserBg.runtime.getPlatformInfo().then(os=>{const editorcmd = os.os=="linux" ? "emacs" : "auto"; tri.config.set("editorcmd", editorcmd)})

" only hint search results on google & ddg
bindurl www.google.com f hint -Jc .rc > .r > a
bindurl www.google.com F hint -Jbc .rc>.r>a

bindurl ^https://duckduckgo.com f hint -Jc [class=result__a]
bindurl ^https://duckduckgo.com F hint -Jbc [class=result__a]

" better hinting
set hintfiltermode vimperator-reflow
set hintnames numeric

" inject google translate upon `:translate` cmd
" again, irony not lost on me.
" also, for the record, Tridactyl doesn't support multi-line JS
command translate js let googleTranslateCallback = document.createElement('script'); googleTranslateCallback.innerHTML = "function googleTranslateElementInit(){ new google.translate.TranslateElement(); }"; document.body.insertBefore(googleTranslateCallback, document.body.firstChild); let googleTranslateScript = document.createElement('script'); googleTranslateScript.charset="UTF-8"; googleTranslateScript.src = "https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit&tl=&sl=&hl="; document.body.insertBefore(googleTranslateScript, document.body.firstChild);

" quickref: https://quickref.dev
set searchurls.qrf https://quickref.dev/search?type=all&q=

" new reddit is bad
autocmd DocStart ^http(s?)://www.reddit.com js tri.excmds.urlmodify("-t", "www", "old")
